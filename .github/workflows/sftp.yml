name: Upload complete repo to an SFTP destination
on: [push]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Upload via SFTP
        uses: wangyucode/sftp-upload-action@v3
        with:
          host: ${{ secrets.SFTP_HOST }}
          username: ${{ secrets.SFTP_USERNAME }}
          password: ${{ secrets.SFTP_PASSWORD }}
          localDir: '.'
          remoteDir: '/home/public/'
          concurrency: 1
          exclude: '*.git,.git*,*/**/*git*'
          dryRun: true

